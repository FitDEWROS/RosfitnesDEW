from aiogram.types import (
    ReplyKeyboardMarkup, KeyboardButton,
    InlineKeyboardMarkup, InlineKeyboardButton, WebAppInfo
)
import os

APP_URL = os.getenv("APP_URL")


def client_kb(has_tariff: bool = False):
    if not has_tariff:
        # –ú–µ–Ω—é –¥–æ –ø–æ–∫—É–ø–∫–∏ (Reply-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞)
        rows = [
            [KeyboardButton(text="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ")],
            [KeyboardButton(text="–¢–∞—Ä–∏—Ñ"), KeyboardButton(text="–ü—Ä–æ—Ñ–∏–ª—å")],
            [KeyboardButton(text="–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è")],
        ]
        return ReplyKeyboardMarkup(
            keyboard=rows,
            resize_keyboard=True,
            is_persistent=False,
            one_time_keyboard=False,
        )
    else:
        # –ú–µ–Ω—é –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏ (Inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å web_app)
        return InlineKeyboardMarkup(
            inline_keyboard=[
                [
                    InlineKeyboardButton(text="–¢–∞—Ä–∏—Ñ", callback_data="tariff"),
                    InlineKeyboardButton(text="–ü—Ä–æ—Ñ–∏–ª—å", callback_data="profile"),
                ],
                [
                    InlineKeyboardButton(
                        text="üöÄ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ",
                        web_app=WebAppInfo(url=APP_URL or "https://example.com")
                    )
                ]
            ]
        )


def client_main_kb() -> ReplyKeyboardMarkup:
    return ReplyKeyboardMarkup(
        keyboard=[
            [KeyboardButton(text="–ü—Ä–æ—Ñ–∏–ª—å"), KeyboardButton(text="–¢–∞—Ä–∏—Ñ")],
        ],
        resize_keyboard=True,
        is_persistent=False,
        one_time_keyboard=False,
    )


def tariffs_kb() -> ReplyKeyboardMarkup:
    return ReplyKeyboardMarkup(
        keyboard=[
            [KeyboardButton(text="üíº –ë–∞–∑–æ–≤—ã–π")],
            [KeyboardButton(text="ü§ë –í—ã–≥–æ–¥–Ω—ã–π")],
            [KeyboardButton(text="üíé –ú–∞–∫—Å–∏–º—É–º")],
            [KeyboardButton(text="‚¨ÖÔ∏è –ù–∞–∑–∞–¥")],
        ],
        resize_keyboard=True,
        is_persistent=False,
        one_time_keyboard=False,
    )


def tariff_detail_kb() -> ReplyKeyboardMarkup:
    return ReplyKeyboardMarkup(
        keyboard=[
            [KeyboardButton(text="üí≥ –ö—É–ø–∏—Ç—å")],
            [KeyboardButton(text="‚¨ÖÔ∏è –ù–∞–∑–∞–¥")],
        ],
        resize_keyboard=True,
        is_persistent=False,
        one_time_keyboard=False,
    )


def empty_kb() -> ReplyKeyboardMarkup:
    # –ü—É—Å—Ç–∞—è reply-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞, —á—Ç–æ–±—ã Telegram –Ω–µ –ø–æ–¥–Ω–∏–º–∞–ª —Å–∏—Å—Ç–µ–º–Ω—É—é –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
    return ReplyKeyboardMarkup(
        keyboard=[],
        resize_keyboard=True,
        is_persistent=False
    )
