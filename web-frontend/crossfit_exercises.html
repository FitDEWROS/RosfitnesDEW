<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RosApp ‚Äî –ö—Ä–æ—Å—Å—Ñ–∏—Ç —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è</title>

  <!-- üß© –®—Ä–∏—Ñ—Ç—ã -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #111113;
      --text: #ffffff;
      --card: rgba(255,255,255,0.05);
      --card-border: rgba(255,255,255,0.1);
      --accent: #8b5cf6;
    }
    html.light {
      --bg: #f5f7fa;
      --text: #111113;
      --card: #ffffff;
      --card-border: rgba(0,0,0,0.1);
      --accent: #3b82f6;
    }

    body.page-crossfit {
      background: var(--bg);
      color: var(--text);
      font-family: 'Inter', sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      transition: background 0.3s ease, color 0.3s ease;
    }
    body, html {
      margin: 0;
      padding: 0;
    }

    /* üåà –ì—Ä–∞–¥–∏–µ–Ω—Ç-–∞—É—Ä–∞ (—Ç—ë–º–Ω–∞—è —Ç–µ–º–∞ ‚Äî –∫–∞–∫ –±—ã–ª–æ) */
    .cf-header {
      width: 100vw;
      margin-left: calc(-50vw + 50%);
      position: sticky;
      top: 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 14px 18px;
      color: #fff;
      background: rgba(17,17,19,0.55);
      backdrop-filter: blur(14px);
      box-shadow: 0 2px 20px rgba(139,92,246,0.25);
      border-bottom: 1px solid rgba(255,255,255,0.08);
      overflow: hidden;
      z-index: 20;
    }
    .cf-header::after {
      content: "";
      position: absolute;
      inset: -80px;
      background: radial-gradient(circle at 50% 100%, rgba(139,92,246,0.45), transparent 70%);
      z-index: -1;
      pointer-events: none;
    }

    /* ‚òÄÔ∏è –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ (–≤ —Å—Ç–∏–ª–µ index.html, –Ω–æ –º—è–≥—á–µ) */
    html.light .cf-header {
      background: linear-gradient(135deg, rgba(139,92,246,0.18), rgba(59,130,246,0.18));
      backdrop-filter: blur(16px);
      box-shadow: 0 2px 12px rgba(0,0,0,0.05);
      border-bottom: 1px solid rgba(0,0,0,0.05);
      color: #111;
      width: 100%; /* –±—ã–ª–æ 100vw ‚Äî —Ç–µ–ø–µ—Ä—å –±–µ–∑ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ */
      margin-left: 0; /* —É–±–∏—Ä–∞–µ–º —Å–¥–≤–∏–≥ */
    }
    html.light .cf-header::after {
      background: radial-gradient(circle at 60% 100%, rgba(59,130,246,0.25), transparent 70%);
    }

    .nav-btn {
      background: transparent;
      border: 1px solid rgba(255,255,255,0.3);
      color: #fff;
      border-radius: 10px;
      padding: 8px 16px;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.25s ease;
    }
    .nav-btn:hover {
      background: rgba(139,92,246,0.3);
      box-shadow: 0 0 10px rgba(139,92,246,0.5);
    }

    /* –ö–Ω–æ–ø–∫–∞ –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ */
    html.light .nav-btn {
      border: 1px solid rgba(0,0,0,0.15);
      color: #111;
      background: rgba(255,255,255,0.6);
    }
    html.light .nav-btn:hover {
      background: rgba(59,130,246,0.15);
      box-shadow: 0 0 10px rgba(59,130,246,0.25);
    }

    .brand-mini {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .brand-mini lottie-player {
      width: 42px;
      height: 42px;
      filter: drop-shadow(0 0 6px rgba(139,92,246,0.7));
    }

    .app-title {
      font-weight: 700;
      font-size: 1.25rem;
      letter-spacing: 0.3px;
    }

    /* üèãÔ∏è –°–µ—Ç–∫–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π */
    .cf-main {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 18px;
      padding: 24px 16px 40px;
      justify-items: center;
      flex-grow: 1;
    }

    .exercise-card {
      background: var(--card);
      border: 1px solid var(--card-border);
      border-radius: 16px;
      width: 100%;
      max-width: 260px;
      overflow: hidden;
      text-align: center;
      color: var(--text);
      cursor: pointer;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      box-shadow: 0 2px 10px rgba(0,0,0,0.25);
      opacity: 0;
      transform: translateY(15px);
    }
    .exercise-card:hover {
      transform: translateY(-6px);
      box-shadow: 0 6px 22px var(--accent);
    }

    .thumb {
      position: relative;
      height: 160px;
      background: #000;
    }
    .thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: brightness(0.8);
      transition: transform 0.3s ease, filter 0.3s ease;
    }
    .exercise-card:hover img {
      transform: scale(1.05);
      filter: brightness(1);
    }
    .overlay {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 2.2rem;
      text-shadow: 0 0 10px rgba(0,0,0,0.6);
      pointer-events: none;
    }

    .exercise-card h3 {
      font-size: 1.05rem;
      font-weight: 600;
      margin: 12px 0 6px;
    }
    .exercise-card p {
      font-size: 0.9rem;
      opacity: 0.85;
      padding: 0 10px 12px;
    }

    /* üé• –í–∏–¥–µ–æ-–º–æ–¥–∞–ª–∫–∞ */
    .modal {
      display: none;
      position: fixed;
      inset: 0;
      z-index: 200;
      background: rgba(0, 0, 0, 0.65);
      backdrop-filter: blur(8px);
      justify-content: center;
      align-items: center;
      transition: opacity 0.3s ease;
    }
    .modal.show { display: flex; }

    .video-modal {
      position: relative;
      background: var(--card);
      border: 1px solid var(--card-border);
      border-radius: 16px;
      padding: 16px;
      width: 90%;
      max-width: 420px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.4);
      animation: modalAppear 0.3s ease forwards;
    }

    @keyframes modalAppear {
      from { opacity: 0; transform: translateY(20px) scale(0.97); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }

    .video-modal video {
      width: 100%;
      height: auto;
      max-height: 55vh;
      border-radius: 12px;
      margin-bottom: 12px;
      object-fit: contain;
      background: #000;
    }

    .video-modal h3 {
      font-size: 1.1rem;
      font-weight: 600;
      margin: 6px 0 4px;
      color: var(--text);
      text-align: center;
    }

    .video-modal p {
      font-size: 0.9rem;
      opacity: 0.85;
      margin: 0 0 4px;
      text-align: center;
      color: var(--text);
    }

    /* ‚ùå –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è */
    .close {
      position: absolute;
      top: 8px;
      right: 12px;
      font-size: 26px;
      color: var(--text);
      opacity: 0.7;
      cursor: pointer;
      background: rgba(0,0,0,0.25);
      border-radius: 50%;
      padding: 3px 9px;
      transition: 0.25s;
    }
    .close:hover { opacity: 1; }

    /* üì± –ú–æ–±–∏–ª—å–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ */
    @media (max-width: 600px) {
      .video-modal {
        width: calc(100% - 32px);
        margin: 0 auto;
        padding: 12px;
        border-radius: 14px;
        max-height: 80dvh; /* ‚úÖ –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ç–µ–ª–µ–≥—Ä–∞–º –∏ notch */
        overflow-y: auto;
      }

      .video-modal video {
        max-height: 50dvh;
        border-radius: 10px;
      }

      .close {
        top: 10px;
        right: 10px;
        font-size: 28px;
      }
}



  </style>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
</head>

<body class="page-crossfit">
  <!-- –®–∞–ø–∫–∞ –≤—ã–Ω–µ—Å–µ–Ω–∞ –Ω–∞—Ä—É–∂—É, —á—Ç–æ–±—ã —É–±—Ä–∞—Ç—å –±–µ–ª—ã–µ –∫—Ä–∞—è -->
  <header class="cf-header">
    <button id="backBtn" class="nav-btn">‚Üê –ù–∞–∑–∞–¥</button>
    <div class="brand-mini">
      <lottie-player src="Avocado.json" background="transparent" speed="1" loop autoplay></lottie-player>
      <span class="app-title">RosApp</span>
    </div>
  </header>

  <div class="wrap">
    <main class="cf-main" id="exerciseList" aria-live="polite"></main>
  </div>

  <div id="videoModal" class="modal">
    <div class="video-modal">
      <span class="close" id="closeVideo">&times;</span>
      <video id="exerciseVideo" controls playsinline></video>
      <h3 id="videoTitle"></h3>
      <p id="videoDesc"></p>
    </div>
  </div>

  <script>
    (function() {
      const theme = localStorage.getItem("theme") || "dark";
      document.documentElement.classList.toggle("light", theme === "light");
    })();

    const exercises = [
      { name: "–ë—ë—Ä–ø–∏", desc: "–ü–æ–ª–Ω–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –Ω–∞ –≤—Å—ë —Ç–µ–ª–æ: –ø—Ä—ã–∂–æ–∫, –ø–ª–∞–Ω–∫–∞, –æ—Ç–∂–∏–º–∞–Ω–∏–µ.", thumb: "thumbs/burpee.jpg", video: "videos/burpee.mp4" },
      { name: "–¢—Ä–∞—Å—Ç–µ—Ä—ã", desc: "–ö–æ–º–±–∏–Ω–∞—Ü–∏—è –ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è –∏ –∂–∏–º–∞ —à—Ç–∞–Ω–≥–∏ –≤–≤–µ—Ä—Ö.", thumb: "thumbs/thruster.jpg", video: "videos/thruster.mp4" },
      { name: "–ì—Ä–µ–±–ª—è", desc: "–ö–∞—Ä–¥–∏–æ-–Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –≤—Å—ë —Ç–µ–ª–æ —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –Ω–æ–≥–∏ –∏ —Å–ø–∏–Ω—É.", thumb: "thumbs/row.jpg", video: "videos/row.mp4" },
      { name: "–ü—Ä—ã–∂–∫–∏ –Ω–∞ —Ç—É–º–±—É", desc: "–†–∞–∑–≤–∏–≤–∞—é—Ç —Å–∏–ª—É –Ω–æ–≥ –∏ –≤–∑—Ä—ã–≤–Ω—É—é –º–æ—â—å.", thumb: "thumbs/boxjump.jpg", video: "videos/boxjump.mp4" },
      { name: "–ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è", desc: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –¥–ª—è —Å–ø–∏–Ω—ã –∏ —Ä—É–∫.", thumb: "thumbs/pullup.jpg", video: "videos/pullup.mp4" },
      { name: "–û—Ç–∂–∏–º–∞–Ω–∏—è –≤ —Å—Ç–æ–π–∫–µ –Ω–∞ —Ä—É–∫–∞—Ö", desc: "–†–∞–∑–≤–∏—Ç–∏–µ –ø–ª–µ—á–µ–≤–æ–≥–æ –ø–æ—è—Å–∞ –∏ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏—è.", thumb: "thumbs/hspu.jpg", video: "videos/hspu.mp4" },
      { name: "–°—Ç–∞–Ω–æ–≤–∞—è —Ç—è–≥–∞", desc: "–ë–∞–∑–æ–≤–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –¥–ª—è —Å–ø–∏–Ω—ã, –Ω–æ–≥ –∏ —Ö–≤–∞—Ç–∞.", thumb: "thumbs/deadlift.jpg", video: "videos/deadlift.mp4" },
      { name: "–°–ø—Ä–∏–Ω—Ç", desc: "–í—ã—Å–æ–∫–æ–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –Ω–∞ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å.", thumb: "thumbs/sprint.jpg", video: "videos/sprint.mp4" },
      { name: "–†—É—Å—Å–∫–∏–µ —Å–∫—Ä—É—á–∏–≤–∞–Ω–∏—è", desc: "–†–∞–∑–≤–∏—Ç–∏–µ –º—ã—à—Ü –∫–æ—Ä–∞ –∏ –∫–æ—Å—ã—Ö –º—ã—à—Ü –∂–∏–≤–æ—Ç–∞.", thumb: "thumbs/russian_twist.jpg", video: "videos/russian_twist.mp4" }
    ];

    const list = document.getElementById("exerciseList");
    exercises.forEach((ex, i) => {
      const card = document.createElement("div");
      card.className = "exercise-card";
      card.innerHTML = `
        <div class="thumb">
          <img src="${ex.thumb}" alt="${ex.name}">
          <div class="overlay">‚ñ∂</div>
        </div>
        <h3>${ex.name}</h3>
        <p>${ex.desc}</p>
      `;
      card.addEventListener("click", () => openVideoModal(ex));
      list.appendChild(card);
      setTimeout(() => { card.style.opacity = 1; card.style.transform = "translateY(0)"; }, 100 * i);
    });

    document.getElementById("backBtn").addEventListener("click", () => {
      window.location.href = "index.html";
    });

    function openVideoModal(ex) {
      const modal = document.getElementById("videoModal");
      const video = document.getElementById("exerciseVideo");
      document.getElementById("videoTitle").textContent = ex.name;
      document.getElementById("videoDesc").textContent = ex.desc;
      video.src = ex.video;
      modal.classList.add("show");
    }

    document.getElementById("closeVideo").addEventListener("click", closeModal);
    window.addEventListener("click", (e) => {
      const modal = document.getElementById("videoModal");
      if (e.target === modal) closeModal();
    });

    function closeModal() {
      const modal = document.getElementById("videoModal");
      const video = document.getElementById("exerciseVideo");
      modal.classList.remove("show");
      video.pause();
      video.src = "";
    }
  </script>
</body>
</html>
